# Team Lab 1

## Router ICMP

VM: `team-lab-1-router`

### Description
Returns an ICMP Ping

### Service Information
- Basic ICMP ping check to see if your router is responding.
- Server Operating System: Centos 7

### Service Requirements
- The router responds to an ICMP ping request.
- Scoring Rubric:
    - Green: The router returned an ICMP ping request
    - Red: The router did not respond.


## WWW Port   

VM: `team-lab-1-web`

### Description
- Establishes a connection to port 80 (through router)

### Service Information
- Basic HTTP check to see if your router is forwarding traffic to your web server.
- Server Operating System: Ubuntu 20.04

### Service Requirements:
- A valid HTTP response is returned.
- Scoring Rubric:
    - Green: A valid HTTP Response is returned
    - Yellow: Connected on port 80 but a valid HTTP response was not returned.
    - Red: Could not connect to the web server.
 
### Scoring Details

- Note that all Web checks are scored through the router
- Host: 172.18.10<T>.1 (where <T> is your team number)
- Port: 80


## WWW SSL

VM: `team-lab-1-web`

## Description
- Page is served with a valid SSL certificate

 
Service Information

A suspiciously sourced Flask Application with a PostgreSQL backend Database. The docs said the config file is found in /var/lib/etechacademy and the PostgreSQL database is generated on start up, but not much else; the service is connected to the etechacademy systemd unit.

It appears to be behind some sort of reverse proxy on the host, and also claimed to be "super secure" when configured correctly, whatever that means.

Server Operating System: Ubuntu 20.04

Service Requirements:

Web Server stays up
PostgreSQL connection stays available to web server
Web content is correct (no errors) and fully functional
Scoring User is able to log in and use site as expected
Valid SSL Certificate is served
Scoring Rubric:

Green: Page is served with a valid SSL certificate for the domain team<T>.ncaecybergames.org.
Yellow: HTTP content is served using SSL and an invalid certificate
Red: HTTP content is not served over SSL
 
Scoring Details

Note that all Web checks are scored through the router

Web Scoring User: admin
Web Scoring Password: admin123
Root CA Certificate Hash: 761e8fbafabceac17680a28c82a097d2
Requests must be served using a certificate signed by the Root CA at ca.ncaecybergames.org. A valid certificate can be generated by using the following command:

certbot --nginx --server https://ca.ncaecybergames.org/acme/acme/directory
Tip: Certbot will add a random sleep delay when run non-interactively. When automating certbot SSL renewal, use the flag --no-random-sleep-on-renew to ensure the check runs within the allotted time, as our renewal window is shorter than a standard certificate.

Root CA Public Certificate:

-----BEGIN CERTIFICATE-----
MIIBgzCCASmgAwIBAgIQLsmaISqa2rgOPtAQdbW6NzAKBggqhkjOPQQDAjAgMR4w
HAYDVQQDExVDTlkgSGFja2F0aG9uIFJvb3QgQ0EwHhcNMjAxMTAxMTcxMjM1WhcN
MzAxMDMwMTcxMjM1WjAgMR4wHAYDVQQDExVDTlkgSGFja2F0aG9uIFJvb3QgQ0Ew
WTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATUys4CA9QDvb+NWI7VmuMuDSy2gsjD
biioEfugQtrPZ1TrYkzcpvOO0JJVBx6KWiSgaIW40d4PsdP0W5MXmWXvo0UwQzAO
BgNVHQ8BAf8EBAMCAQYwEgYDVR0TAQH/BAgwBgEB/wIBATAdBgNVHQ4EFgQUf31D
xx7jn27uurvOurkfiTDFOdowCgYIKoZIzj0EAwIDSAAwRQIgNM1WrOe0sgZzB5u3
LvPtAQRbmrUnCCyifHs96gETjR0CIQCgEvyxifBeNGGCCLO1H1r4NMweN17Lthcg
yZnHBCVPig==
-----END CERTIFICATE-----



DNS INT REV
 Description
[vm=dns] IPs resolved correctly from within the internal team subnet

 
Service Information

Internal and External DNS server serving as the digital phonebook for your network. Some assembly required!

Server Operating System: Rocky 8

Service Requirements:

DNS should be available internally at 192.168.<T>.12
DNS should be available externally at 172.18.13.<T>
DNS Forward lookups for the following domain names point to the corresponding IP.
DNS Reverse lookups for the following IP Addresses point to the corresponding domain name
Scoring Rubric:

Green: IPs resolved correctly
Yellow: DNS Server was queried, but one or more IPs or domain names did not resolve correctly
Red: Could not connect to DNS server, or all IPs were missing
 
Scoring Details

The following addresses will be scored from inside the participant's network, and checked for both forward and reverse lookups.

Required Domains:

DNS Address	IP	Description
www.team<T>.net	192.168.<T>.5	Internal Alias for Web server
db.team<T>.net	192.168.<T>.7	Internal Alias for MySQL server
ns1.team<T>.net	192.168.<T>.12	Internal Alias for DNS Server
Note that <T> represents the team's number


DNS EXT REV
 Description
[vm=dns] IPs resolved correctly from outside your router. Proper port forwards will be required.

 
Service Information

Internal and External DNS server serving as the digital phonebook for your network. Some assembly required!

Server Operating System: Rocky 8

Service Requirements:

DNS should be available internally at 192.168.<T>.12
DNS should be available externally at 172.18.13.<T>
DNS Forward lookups for the following domain names point to the corresponding IP.
DNS Reverse lookups for the following IP Addresses point to the corresponding domain name
Scoring Rubric:

Green: Domain names resolved correctly
Yellow: DNS Server was queried, but one or more IPs or domain names did not resolve correctly
Red: Could not connect to DNS server, or all domain names were missing
 
Scoring Details

The following addresses should be publicly available and will be scored through the router, and checked for both forward and reverse lookups.

Required Domains:

DNS Address	IP	Description
ns1.team<T>.ncaecybergames.org	172.18.13.<T>	Public DNS Nameserver
www.team<T>.ncaecybergames.org	172.18.13.<T>	Public Web Nameserver
shell.team<T>.ncaecybergames.org	172.18.14.<T>	Public SSH server
files.team<T>.ncaecybergames.org	172.18.14.<T>	Public File Share
Note that <T> represents the team's number


DNS INT FWD
 Description
[vm=dns] Host names resolved correctly from within the internal team subnet

 
Service Information

Internal and External DNS server serving as the digital phonebook for your network. Some assembly required!

Server Operating System: Rocky 8

Service Requirements:

DNS should be available internally at 192.168.<T>.12
DNS should be available externally at 172.18.13.<T>
DNS Forward lookups for the following domain names point to the corresponding IP.
DNS Reverse lookups for the following IP Addresses point to the corresponding domain name
Scoring Rubric:

Green: IPs resolved correctly
Yellow: DNS Server was queried, but one or more IPs or domain names did not resolve correctly
Red: Could not connect to DNS server, or all IPs were missing
 
Scoring Details

The following addresses will be scored from inside the participant's network, and checked for both forward and reverse lookups.

Required Domains:

DNS Address	IP	Description
www.team<T>.net	192.168.<T>.5	Internal Alias for Web server
db.team<T>.net	192.168.<T>.7	Internal Alias for MySQL server
ns1.team<T>.net	192.168.<T>.12	Internal Alias for DNS Server
Note that <T> represents the team's number


DNS EXT FWD
 Description
[vm=dns] Host names resolved correctly from outside your router. Proper port forwards will be required.

 
Service Information

Internal and External DNS server serving as the digital phonebook for your network. Some assembly required!

Server Operating System: Rocky 8

Service Requirements:

DNS should be available internally at 192.168.<T>.12
DNS should be available externally at 172.18.13.<T>
DNS Forward lookups for the following domain names point to the corresponding IP.
DNS Reverse lookups for the following IP Addresses point to the corresponding domain name
Scoring Rubric:

Green: Domain names resolved correctly
Yellow: DNS Server was queried, but one or more IPs or domain names did not resolve correctly
Red: Could not connect to DNS server, or all domain names were missing
 
Scoring Details

The following addresses should be publicly available and will be scored through the router, and checked for both forward and reverse lookups.

Required Domains:

DNS Address	IP	Description
ns1.team<T>.ncaecybergames.org	172.18.13.<T>	Public DNS Nameserver
www.team<T>.ncaecybergames.org	172.18.13.<T>	Public Web Nameserver
shell.team<T>.ncaecybergames.org	172.18.14.<T>	Public SSH server
files.team<T>.ncaecybergames.org	172.18.14.<T>	Public File Share
Note that <T> represents the team's number

FTP Write
 Description
[vm=shell] Write a file to the remote FTP server.

 
Service Information

Established Shell Server and File Share for staff and external associates, and must be kept online at all costs.

Server Operating System: Rocky 8

Service Requirements:

FTP users can login and write new files.
Scoring Rubric:

Green: Scoring users are able to write a file to the remote FTP server.
Yellow: FTP is accessible, but scoring users are unable to write new files.
Red: FTP is inaccessible (Port closed, timeout/invalid response from FTP)
 
Scoring Details

FTP Scoring Directory: /mnt/files
FTP Scoring User Password Hash:
$6$KHk2hJlrIZKWxWA9$z2OrpVg05wxoUp/BL12VY9rvxvgyZhta.qKf9SwckeNMcW4QvCJACSA4QyBwy88UpPAGDrskbu7rb7sh8fbnM1
FTP Scoring Users:
camille_jenatzy
gaston_chasseloup
leon_serpollet
william_vanderbilt
henri_fournier
maurice_augieres
arthur_duray
henry_ford
louis_rigolly
pierre_caters
paul_baras
victor_hemery
fred_marriott
lydston_hornsted
kenelm_guinness
rene_thomas
ernest_eldridge
malcolm_campbell
ray_keech
john_cobb
dorothy_levitt
paula_murphy
betty_skelton
rachel_kushner
kitty_oneil
jessi_combs
andy_green


Postgres Access
 Description
[vm=db] SQL scoring user is able to connect, authenticate, read and write data

 
Scoring Details

tion:

Data storage server used to power the web application.

The database is initialized from our web application, as long as the bill_kaplan user has access to the database db.

The data is synced to the QA department via an automated task that reads PostgreSQL directly.

The QA Department occasionally writes data back to the database as well.

Server Operating System: Ubuntu 20.04

Service Requirements:

The PostgreSQL Scoring user is able to log into PostgreSQL
The PostgreSQL Scoring user can Read data
The PostgreSQL Scoring user can Write data
Scoring Rubric:

Green: PostgreSQL scoring user is able to connect, authenticate, read and write data
Yellow: PostgreSQL is accessible, but the scoring user is unable to authenticate or read/write data
Red: PostgreSQL is inaccessible
 
Scoring Details

The PostgreSQL services are scored from the internal team network, using the internal IP address of 192.168.<T>.7.

PostgreSQL scoring user: bill_kaplan
PostgreSQL scoring password: b1ackjack!
PostgreSQL Scoring user can login, read and write to the database db
PostgreSQL Scoring user can login, read and write to the table users


WWW Content
 Description
[vm=www] Verifies working web site (through router); Page is served and no errors (Full functionality)

 
Service Information

A suspiciously sourced Flask Application with a PostgreSQL backend Database. The docs said the config file is found in /var/lib/etechacademy and the PostgreSQL database is generated on start up, but not much else; the service is connected to the etechacademy systemd unit.

It appears to be behind some sort of reverse proxy on the host, and also claimed to be "super secure" when configured correctly, whatever that means.

Server Operating System: Ubuntu 20.04

Service Requirements:

Web Server stays up
PostgreSQL connection stays available to web server
Web content is correct (no errors) and fully functional
Scoring User is able to log in and use site as expected
Scoring Rubric:

Green: Page is served and no errors (Full functionality)
Yellow: Page is served with errors (Limited functionality, site is still up)
Red: Web Server is inaccessible
 
Scoring Details

Note that all Web checks are scored through the router

Web Scoring User: admin
Web Scoring Password: admin123


SSH Login
 Description
[vm=shell] Proper users are able to log in via SSH key

 
Service Information

Established Shell Server and File Share for staff and external associates, and must be kept online at all costs.

Server Operating System: Rocky 8

Service Requirements:

Scoring Users are able to successfully SSH using Public Key Authentication.
Scoring Rubric:

Green: Scoring Users are able to log in via SSH key
Yellow: SSH is accessible, Scoring users are unable to login
Red: SSH is inaccessible (Port closed, invalid response from SSH)
 
Scoring Details

SSH Scoring Users:

camille_jenatzy
gaston_chasseloup
leon_serpollet
william_vanderbilt
henri_fournier
maurice_augieres
arthur_duray
henry_ford
louis_rigolly
pierre_caters
paul_baras
victor_hemery
fred_marriott
lydston_hornsted
kenelm_guinness
rene_thomas
ernest_eldridge
malcolm_campbell
ray_keech
john_cobb
dorothy_levitt
paula_murphy
betty_skelton
rachel_kushner
kitty_oneil
jessi_combs
andy_green
Scoring Public Key:

ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCcM4aDj8Y4COv+f8bd2WsrIynlbRGgDj2+q9aBeW1Umj5euxnO1vWsjfkpKnyE/ORsI6gkkME9ojAzNAPquWMh2YG+n11FB1iZl2S6yuZB7dkVQZSKpVYwRvZv2RnYDQdcVnX9oWMiGrBWEAi4jxcYykz8nunaO2SxjEwzuKdW8lnnh2BvOO9RkzmSXIIdPYgSf8bFFC7XFMfRrlMXlsxbG3u/NaFjirfvcXKexz06L6qYUzob8IBPsKGaRjO+vEdg6B4lH1lMk1JQ4GtGOJH6zePfB6Gf7rp31261VRfkpbpaDAznTzh7bgpq78E7SenatNbezLDaGq3Zra3j53u7XaSVipkW0S3YcXczhte2J9kvo6u6s094vrcQfB9YigH4KhXpCErFk08NkYAEJDdqFqXIjvzsro+2/EW1KKB9aNPSSM9EZzhYc+cBAl4+ohmEPej1m15vcpw3k+kpo1NC2rwEXIFxmvTme1A2oIZZBpgzUqfmvSPwLXF0EyfN9Lk= SCORING KEY DO NOT REMOVE


FTP Login
 Description
[vm=shell] users are able to log in via ftp

 
Service Information

Established Shell Server and File Share for staff and external associates, and must be kept online at all costs.

Server Operating System: Rocky 8

Service Requirements:

FTP users can login.
Scoring Rubric:

Green: Scoring users are able to log in via ftp.
Yellow: FTP is accessible, scoring users are unable to login.
Red: FTP is inaccessible (Port closed, timeout/invalid response from FTP)
 
Scoring Details

FTP Scoring Directory: /mnt/files
FTP Scoring User Password Hash:
$6$KHk2hJlrIZKWxWA9$z2OrpVg05wxoUp/BL12VY9rvxvgyZhta.qKf9SwckeNMcW4QvCJACSA4QyBwy88UpPAGDrskbu7rb7sh8fbnM1
FTP Scoring Users:
camille_jenatzy
gaston_chasseloup
leon_serpollet
william_vanderbilt
henri_fournier
maurice_augieres
arthur_duray
henry_ford
louis_rigolly
pierre_caters
paul_baras
victor_hemery
fred_marriott
lydston_hornsted
kenelm_guinness
rene_thomas
ernest_eldridge
malcolm_campbell
ray_keech
john_cobb
dorothy_levitt
paula_murphy
betty_skelton
rachel_kushner
kitty_oneil
jessi_combs
andy_green


FTP Read
 Description
[vm=shell] Files from the list exists, can be downloaded, and contents are expected

 
Service Information

Established Shell Server and File Share for staff and external associates, and must be kept online at all costs.

Server Operating System: Rocky 8

Service Requirements:

FTP users can login and retrieve their files.
Scoring Rubric:

Green: Files from the above list exists, can be downloaded, and contents pass an integrity check.
Yellow: Login is successful, some files are missing or fail the integrity check.
Red: Login failed.
 
Scoring Details

FTP Scoring Directory: /mnt/files
FTP Scoring User Password Hash:
$6$KHk2hJlrIZKWxWA9$z2OrpVg05wxoUp/BL12VY9rvxvgyZhta.qKf9SwckeNMcW4QvCJACSA4QyBwy88UpPAGDrskbu7rb7sh8fbnM1
FTP Scoring Users:
camille_jenatzy
gaston_chasseloup
leon_serpollet
william_vanderbilt
henri_fournier
maurice_augieres
arthur_duray
henry_ford
louis_rigolly
pierre_caters
paul_baras
victor_hemery
fred_marriott
lydston_hornsted
kenelm_guinness
rene_thomas
ernest_eldridge
malcolm_campbell
ray_keech
john_cobb
dorothy_levitt
paula_murphy
betty_skelton
rachel_kushner
kitty_oneil
jessi_combs
andy_green
FTP Files:
iron_cross.data
3_point_molly.data
dark_side.data
come_dont_come.data
odds.data
.house_secrets.data
pass_line.data
risky_roller.data
covered_call.data
married_put.data
bull_call.data
protective_collar.data
long_straddle.data
long_strangle.data
long_call_butteryfly.data
iron_condor.data
iron_butterfly.data
short_put.data
data_dump_1.bin
data_dump_2.bin
data_dump_3.bin
datadump.bin





Channels
You'll know you're set up correctly if you can see the following channels:

#announcements - Competition announcements go here, like time for lunch.
🍕 Mmmmm, food! 🥪
#blackteam-open - used to request support from Black Team
Remember this is an open channel - all teams can see this!
You can also summon Black Team to your team channel with the @Black Team tag
#redteam-open - used to 'interact' with Redteam
#redteam-open - used to 'interact' with Redteam
I hear they like taunts and dance videos 👀
#ctf-open - Used to interact with the CTF team
CTF announcements like first blood and new releases go here!
You may also ping the tag @ctf to summon them to your team channel.
#team-X - Your team channel. Only your team, Black Team, and CTF can see this channel.
It's safe to store passwords and other sensitive info here - Red Team and other Blue Teams can not see it!



VM Console
To access your VM console:

Navigate to Proxmox: vce2.ncaecybergames.org
➔ Change Realm to: NCAE Cyber Games
Log in with your NCAE Cybergames email address and password
Expand "vce" on the left if you don't see your VMs
SPICE
Using the SPICE client in place of the standard VM Console will significantly improve your experience while dealing directly with VMs that support it. SPICE allows for copy/paste functionality, as well as file transfer between your local machine and the VM.

NOTE: Not all VMs support the SPICE client.

Please see ncaecybergames.org/spice for more information.

SSH Jumphost
An SSH jumphost exists for you to access the environment from your host via SSH instead of through the Proxmox consoles. The connection information is below.

Use your account email address as your username
Port: 2213
Host: vce2.ncaecybergames.org
Example Command:
ssh -p 2213 -l johndoe@univ.edu vce2.ncaecybergames.org
If your account is secured with 2FA, enter your password in the form password/OTP, for example: mypass/123456




There are three ways to score points in the competition - capturing CTF Flags, keeping Infrastructure Services online, and completing the Inject Challenge.

Total Possible Points:

Infrastructure Services	10000 points
Capture the Flag	2500 points
Inject 👀	500 points
Total competition points: 13000

Quick Links
Scoreboard -
TIP: Hover over a service to quickly view feedback
TIP: Click on a service to quickly view Service Feedback details
This information is also available on the dedicated service feedback page
CTF Challenges - View CTF challenges and submit flags!
Service Feedback - View detailed information about service checks and why they failed.
Task Board - Create tasks and assign them to team members to stay organized.
Gamified Scoring Visual - A gamified, Packet Man based view of the competition!
Capture the Flag (CTF)
CTF Challenges are released throughout the day. Harder challenges are generally worth more points. This is a good place to start if you're unsure what to do!

Infrastructure Services
The goal of your team is to keep infrastructure services online as much as possible. Each service has a point value associated with it, which can be seen in the table to the right. Initial login credentials are available below.

Click on a row in the table to the right to view detailed information about what each service requires to score.

The Red Team will be actively attacking your services and trying to prevent them from scoring. If a service is not responding correctly, it will not score points.

Tips
Check Service Feedback: If a service is not scoring, check the Service Feedback page for detailed information.
Review Service Details: Click on a service in the table to view detailed information about what is required to score.
Use your services: Use your services as if you were a normal user. Does it respond like you'd expect? Are there any errors?
Secure your services: Don't just kick out the Red Team, lock down your services from future attacks.
Some Systems Start Online while others must be brought online by your team. Systems that are online immediately and are immediately accessible by the Red Team!


The default credentials for competition VMs are below.

Linux Servers / Kali Desktop:
Username: root
Password: abc123
Mikrotik Router
Username: root
Password: abc123